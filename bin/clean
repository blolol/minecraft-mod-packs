#!/usr/bin/env bash
# Usage: build MOD_PACK_NAME

pack="$1"

bin_dir="$(cd "$(dirname "${BASH_SOURCE[0]}")" >/dev/null 2>&1 && pwd)"
modpacks_root="$bin_dir/.."
pack_dir="$modpacks_root/packs/$pack"

if [[ ! -d $pack_dir ]]; then
  echo "ðŸ†˜ The mod pack $pack doesn't exist!" >&2
  exit 1
fi

version="$(cat "$pack_dir/VERSION")"
zip_file="$pack-$version.zip"
zip_path="$modpacks_root/build/$zip_file"

if [[ -f $zip_path ]]; then
  rm "$zip_path"
  echo "âœ… Removed builds/$zip_file"
else
  echo "âœ… Nothing to do: builds/$zip_file doesn't exist"
fi
